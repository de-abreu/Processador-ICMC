"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4860],{2927:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var t=n(4848),s=n(8453),a=n(136);const l={title:"Colet\xe2nea de fun\xe7\xf5es",description:"Exemplos de fun\xe7\xf5es para execu\xe7\xe3o de diversas finalidades"},i="Colet\xe2nea de fun\xe7\xf5es",o={id:"biblioteca/funcoes",title:"Colet\xe2nea de fun\xe7\xf5es",description:"Exemplos de fun\xe7\xf5es para execu\xe7\xe3o de diversas finalidades",source:"@site/docs/4-biblioteca/2-funcoes.mdx",sourceDirName:"4-biblioteca",slug:"/biblioteca/funcoes",permalink:"/Processador-ICMC/docs/biblioteca/funcoes",draft:!1,unlisted:!1,editUrl:"https://github.com/de-abreu/Processador-ICMC/edit/master/website/docs/4-biblioteca/2-funcoes.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Colet\xe2nea de fun\xe7\xf5es",description:"Exemplos de fun\xe7\xf5es para execu\xe7\xe3o de diversas finalidades"},sidebar:"tutorialSidebar",previous:{title:"Aulas gravadas",permalink:"/Processador-ICMC/docs/biblioteca/aulas-gravadas"},next:{title:"Jogos",permalink:"/Processador-ICMC/docs/biblioteca/jogos"}},d={},c=[{value:"Operacionais",id:"operacionais",level:2},{value:"saveRegisters",id:"saveregisters",level:3},{value:"Argumentos",id:"argumentos",level:4},{value:"Retorna",id:"retorna",level:4},{value:"restoreRegisters",id:"restoreregisters",level:3},{value:"Argumentos",id:"argumentos-1",level:4},{value:"Retorna",id:"retorna-1",level:4},{value:"Matem\xe1ticas",id:"matem\xe1ticas",level:2},{value:"screenPosition",id:"screenposition",level:3},{value:"Argumentos",id:"argumentos-2",level:4},{value:"Returna",id:"returna",level:4},{value:"Impress\xe3o",id:"impress\xe3o",level:2},{value:"printIntR",id:"printintr",level:3},{value:"Argumentos",id:"argumentos-3",level:4},{value:"Retorna",id:"retorna-2",level:4},{value:"Input",id:"input",level:2},{value:"takeInput",id:"takeinput",level:3},{value:"Argumentos",id:"argumentos-4",level:4},{value:"Retorna",id:"retorna-3",level:4}];function h(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components},{Details:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"colet\xe2nea-de-fun\xe7\xf5es",children:"Colet\xe2nea de fun\xe7\xf5es"})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(r.h2,{id:"operacionais",children:"Operacionais"}),(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.h3,{id:"saveregisters",children:"saveRegisters"}),(0,t.jsx)(r.p,{children:"Salva o contexto dos registradores para posterior recupera\xe7\xe3o, e carrega o valor dos argumentos nestes. A ser utilizado no inicio de demais fun\xe7\xf5es."})]}),(0,t.jsx)(r.h4,{id:"argumentos",children:"Argumentos"}),(0,t.jsx)(r.p,{children:"Nenhum"}),(0,t.jsx)(r.h4,{id:"retorna",children:"Retorna"}),(0,t.jsx)(r.p,{children:"Nada"}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-asmatmel",children:"saveRegisters:\n    pop r0         ; Armazena o endere\xe7o de retorno da fun\xe7\xe3o\n    push r1\n    push r2\n    push r3\n    push r4\n    push r5\n    push r6\n    push r7\n    push r0        ; Coloca-o de volta no topo da pilha\n    load r1, Arg1\n    load r2, Arg2\n    load r3, Arg3\n    load r4, Arg4\n    load r5, Arg5\n    load r6, Arg6\n    load r7, Arg7\n    loadn r0, #0\n    rts            ; Desempilha e retorna.\n"})})]}),(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.h3,{id:"restoreregisters",children:"restoreRegisters"}),(0,t.jsx)(r.p,{children:"Recupera o contexto dos registradores \xe0 partir da pilha. A ser utilizado ao t\xe9rmino das fun\xe7\xf5es."})]}),(0,t.jsx)(r.h4,{id:"argumentos-1",children:"Argumentos"}),(0,t.jsx)(r.p,{children:"Nenhum"}),(0,t.jsx)(r.h4,{id:"retorna-1",children:"Retorna"}),(0,t.jsx)(r.p,{children:"Nada"}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-asmatmel",children:"restoreRegisters:\n    pop r0\n    pop r7\n    pop r6\n    pop r5\n    pop r4\n    pop r3\n    pop r2\n    pop r1\n    push r0\n    loadn r0, #0\n    rts\n"})})]}),(0,t.jsx)(r.admonition,{type:"warning",children:(0,t.jsxs)(r.p,{children:["As fun\xe7\xf5es ",(0,t.jsx)(r.a,{href:"#saveregisters",children:"saveRegisters"})," e ",(0,t.jsx)(r.a,{href:"#restoreregisters",children:"restoreRegisters"})," s\xe3o requeridas para o funcionamento de muitas outras fun\xe7\xf5es aqui exibidas."]})})]}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(r.h2,{id:"matem\xe1ticas",children:"Matem\xe1ticas"}),(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.h3,{id:"screenposition",children:"screenPosition"}),(0,t.jsxs)(r.p,{children:["Dados valores para linha e coluna, retorna o \xedndice que corresponde a posi\xe7\xe3o esperada na tela. Valores maiores que aqueles definidos em ",(0,t.jsx)(r.code,{children:"HEIGHT"})," e ",(0,t.jsx)(r.code,{children:"WIDTH"})," descrevem voltas na tela.\nDados valores para linha e coluna, retorna o \xedndice que corresponde a posi\xe7\xe3o esperada na tela. Valores maiores que aqueles definidos em ",(0,t.jsx)(r.code,{children:"HEIGHT"})," e ",(0,t.jsx)(r.code,{children:"WIDTH"})," descrevem voltas na tela."]})]}),(0,t.jsx)(r.h4,{id:"argumentos-2",children:"Argumentos"}),(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Label"}),(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Valor esperado"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg1"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Linha"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg2"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Coluna"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"HEIGHT"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Altura da tela"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"WIDTH"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Largura da tela"})]})]})]}),(0,t.jsx)(r.h4,{id:"returna",children:"Returna"}),(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Label"}),(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Valor esperado"})]})}),(0,t.jsx)(r.tbody,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Ret"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"\xcdndice da posi\xe7\xe3o na tela"})]})})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-asmatmel",children:"screenPosition:\n    call saveRegisters\n    load r3, HEIGHT\n    load r4, WIDTH\n    mod r1, r1, r3\n    mul r1, r1, r4\n    mod r2, r2, r4\n    add r1, r1, r2\n    store Ret, r1\n    call restoreRegisters\n    rts\n"})})]})]}),"\n",(0,t.jsx)(r.h2,{id:"impress\xe3o",children:"Impress\xe3o"}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.h3,{id:"printintr",children:"printIntR"}),(0,t.jsx)(r.p,{children:"Imprime um valor inteiro na tela, com alinhamento \xe0 direita."})]}),(0,t.jsx)(r.h4,{id:"argumentos-3",children:"Argumentos"}),(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Label"}),(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Valor esperado"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg1"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Inteiro a ser impresso"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg2"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Posi\xe7\xe3o na tela donde come\xe7ar a impress\xe3o"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg3"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Valor de cor para imprimir o n\xfamero"})]})]})]}),(0,t.jsx)(r.h4,{id:"retorna-2",children:"Retorna"}),(0,t.jsx)(r.p,{children:"Nada"}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-asmatmel",children:"printIntR:\n    call saveRegisters\n    loadn r4, #10        ; carrega o valor 10 para aplicar a opera\xe7\xe3o de m\xf3dulo\n    loadn r5, #'0'       ; carrega o valor \xedndice do caractere 0\n\n    pirLoop:             ; inicia o la\xe7o de impress\xe3o\n        mod r6, r1, r4   ; obt\xe9m o d\xedgito menos significativo de r1\n        add r6, r5, r6   ; aplica-o como um deslocamento no mapa de caracteres\n        add r6, r6, r3   ; aplica o valor da cor\n        outchar r6, r2   ; imprime o caractere na posi\xe7\xe3o r2\n        div r1, r1, r4   ; divis\xe3o inteira de r1 por 10\n        jz pirEnd        ; sai do loop se r1 = 0\n        dec r2           ; caso contr\xe1rio, decrementa r2\n        jmp pirLoop      ; e continua\n\n    pirEnd:\n        call restoreRegisters\n        rts\n"})})]})}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(r.h2,{id:"input",children:"Input"}),(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.h3,{id:"takeinput",children:"takeInput"}),(0,t.jsx)(r.p,{children:"Fun\xe7\xe3o que atrasa a execu\xe7\xe3o do jogo por um per\xedodo para obter uma entrada do jogador. Se a entrada \xe9 aquela esperada, o atraso \xe9 cancelado."})]}),(0,t.jsx)(r.h4,{id:"argumentos-4",children:"Argumentos"}),(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Label"}),(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Valor esperado"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg1"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Fator de atraso"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Arg2"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Entrada esperada"})]})]})]}),(0,t.jsx)(r.h4,{id:"retorna-3",children:"Retorna"}),(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Label"}),(0,t.jsx)(r.th,{style:{textAlign:"left"},children:"Valor esperado"})]})}),(0,t.jsx)(r.tbody,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"Ret"}),(0,t.jsx)(r.td,{style:{textAlign:"left"},children:"0, se n\xe3o foi pressionada nenhuma tecla, caso contr\xe1rio, o valor ASCII da tecla pressionada"})]})})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-asmatmel",children:"takeInput:\n    call saveRegisters\n    loadn r3, #1000 ; Atraso base, implica um microssegundo em 1 MHz\n    loadn r4, #255  ; Valor padr\xe3o retornado por inchar quando n\xe3o \xe9 detectado o pressionamento de qualquer tecla\n    store Ret, r0\n\n    delay_A:\n        mov r5, r1\n        delay_B:\n            inchar r6\n            cmp r4, r6\n            jeq delayContinue\n            store Ret, r6\n            cmp r2, r6\n            jeq delayEnd\n    delayContinue:\n        dec r5\n        jnz delay_B\n        dec r3\n        jnz delay_A\n    delayEnd:\n    call restoreRegisters\n    rts\n"})}),(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.p,{children:["A fun\xe7\xe3o takeInput pode ser utilizada para dar ao jogo uma dado intervalo entre as a\xe7\xf5es. Para tal basta passar o valor esperado para interromper o intervalo como sendo um que n\xe3o pode ser correspondido: ",(0,t.jsx)(r.code,{children:"0"}),"."]})})]})]})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},136:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(6540),s=n(4848);function a(e){let{children:r}=e;return(0,t.useEffect)((()=>{const e=location.hash&&document.querySelector(location.hash)||null,r=e?.parentElement,n=r?.parentElement;if(null!=e&&(document.title=`${e.textContent} | FAQ | Onion`,n&&n instanceof HTMLDetailsElement&&!n.open)){const e=n.getBoundingClientRect().top+window.scrollY-75;r.click(),window.scrollTo({top:e,behavior:"smooth"})}})),(0,s.jsx)(s.Fragment,{children:r})}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>i});var t=n(6540);const s={},a=t.createContext(s);function l(e){const r=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);
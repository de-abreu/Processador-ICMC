"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[217],{4019:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var r=n(4848),s=n(8453),i=n(136);const l={title:"Collection of Functions",description:"Examples of functions for executing various purposes"},d="Collection of Functions",o={id:"biblioteca/funcoes",title:"Collection of Functions",description:"Examples of functions for executing various purposes",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/4-biblioteca/2-funcoes.mdx",sourceDirName:"4-biblioteca",slug:"/biblioteca/funcoes",permalink:"/Processador-ICMC/en/docs/biblioteca/funcoes",draft:!1,unlisted:!1,editUrl:"https://github.com/de-abreu/Processador-ICMC/tree/master/website/docs/4-biblioteca/2-funcoes.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Collection of Functions",description:"Examples of functions for executing various purposes"},sidebar:"tutorialSidebar",previous:{title:"Recorded Classes",permalink:"/Processador-ICMC/en/docs/biblioteca/aulas-gravadas"},next:{title:"Games",permalink:"/Processador-ICMC/en/docs/biblioteca/jogos"}},a={},c=[{value:"Operational",id:"operational",level:2},{value:"saveRegisters",id:"saveregisters",level:3},{value:"Arguments",id:"arguments",level:4},{value:"Returns",id:"returns",level:4},{value:"restoreRegisters",id:"restoreregisters",level:3},{value:"Arguments",id:"arguments-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Mathematics",id:"mathematics",level:2},{value:"screenPosition",id:"screenposition",level:3},{value:"Arguments",id:"arguments-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Printing",id:"printing",level:2},{value:"printIntR",id:"printintr",level:3},{value:"Arguments",id:"arguments-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Input",id:"input",level:2},{value:"takeInput",id:"takeinput",level:3},{value:"Arguments",id:"arguments-4",level:4},{value:"Returns",id:"returns-4",level:4}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"collection-of-functions",children:"Collection of Functions"})}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsx)(t.h2,{id:"operational",children:"Operational"}),(0,r.jsxs)(n,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(t.h3,{id:"saveregisters",children:"saveRegisters"}),(0,r.jsx)(t.p,{children:"Saves the context of the registers for later recovery and loads the value of the arguments in these. To be used at the beginning of other functions."})]}),(0,r.jsx)(t.h4,{id:"arguments",children:"Arguments"}),(0,r.jsx)(t.p,{children:"None"}),(0,r.jsx)(t.h4,{id:"returns",children:"Returns"}),(0,r.jsx)(t.p,{children:"Nothing"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-asmatmel",children:"saveRegisters:\n    pop r0         ; Stores the return address of the function\n    push r1\n    push r2\n    push r3\n    push r4\n    push r5\n    push r6\n    push r7\n    push r0        ; Puts it back on top of the stack\n    load r1, Arg1\n    load r2, Arg2\n    load r3, Arg3\n    load r4, Arg4\n    load r5, Arg5\n    load r6, Arg6\n    load r7, Arg7\n    loadn r0, #0\n    rts            ; Unstacks and returns.\n"})})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(t.h3,{id:"restoreregisters",children:"restoreRegisters"}),(0,r.jsx)(t.p,{children:"Recovers the context of the registers from the stack. To be used at the end of functions."})]}),(0,r.jsx)(t.h4,{id:"arguments-1",children:"Arguments"}),(0,r.jsx)(t.p,{children:"None"}),(0,r.jsx)(t.h4,{id:"returns-1",children:"Returns"}),(0,r.jsx)(t.p,{children:"Nothing"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-asmatmel",children:"restoreRegisters:\n    pop r0\n    pop r7\n    pop r6\n    pop r5\n    pop r4\n    pop r3\n    pop r2\n    pop r1\n    push r0\n    loadn r0, #0\n    rts\n"})})]}),(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.p,{children:["The functions ",(0,r.jsx)(t.a,{href:"#saveregisters",children:"saveRegisters"})," and ",(0,r.jsx)(t.a,{href:"#restoreregisters",children:"restoreRegisters"})," are required for the operation of many other functions displayed here."]})})]}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsx)(t.h2,{id:"mathematics",children:"Mathematics"}),(0,r.jsxs)(n,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(t.h3,{id:"screenposition",children:"screenPosition"}),(0,r.jsxs)(t.p,{children:["Given values for line and column, returns the index that corresponds to the expected position on the screen. Values greater than those defined in ",(0,r.jsx)(t.code,{children:"HEIGHT"})," and ",(0,r.jsx)(t.code,{children:"WIDTH"})," describe turns on the screen."]})]}),(0,r.jsx)(t.h4,{id:"arguments-2",children:"Arguments"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Label"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Expected Value"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg1"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Line"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg2"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Column"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"HEIGHT"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Screen height"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"WIDTH"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Screen width"})]})]})]}),(0,r.jsx)(t.h4,{id:"returns-2",children:"Returns"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Label"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Expected Value"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Ret"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Index of the position on the screen"})]})})]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-asmatmel",children:"screenPosition:\n    call saveRegisters\n    load r3, HEIGHT\n    load r4, WIDTH\n    mod r1, r1, r3\n    mul r1, r1, r4\n    mod r2, r2, r4\n    add r1, r1, r2\n    store Ret, r1\n    call restoreRegisters\n    rts\n"})})]})]}),"\n",(0,r.jsx)(t.h2,{id:"printing",children:"Printing"}),"\n",(0,r.jsx)(i.A,{children:(0,r.jsxs)(n,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(t.h3,{id:"printintr",children:"printIntR"}),(0,r.jsx)(t.p,{children:"Prints an integer on the screen, aligned to the right."})]}),(0,r.jsx)(t.h4,{id:"arguments-3",children:"Arguments"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Label"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Expected Value"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg1"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Integer to be printed"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg2"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Position on the screen where printing starts"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg3"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Color value to print the number"})]})]})]}),(0,r.jsx)(t.h4,{id:"returns-3",children:"Returns"}),(0,r.jsx)(t.p,{children:"Nothing"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-asmatmel",children:"printIntR:\n    call saveRegisters\n    loadn r4, #10        ; loads the value 10 for applying the modulo operation\n    loadn r5, #'0'       ; loads the index value of the character 0\n\n    pirLoop:             ; starts the printing loop\n        mod r6, r1, r4   ; gets the least significant digit of r1\n        add r6, r5, r6   ; applies it as a shift in the character map\n        add r6, r6, r3   ; applies the color value\n        outchar r6, r2   ; prints the character at position r2\n        div r1, r1, r4   ; integer division of r1 by 10\n        jz pirEnd        ; exits the loop if r1 = 0\n        dec r2           ; otherwise, decrements r2\n        jmp pirLoop      ; and continues\n\n    pirEnd:\n        call restoreRegisters\n        rts\n"})})]})}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsx)(t.h2,{id:"input",children:"Input"}),(0,r.jsxs)(n,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(t.h3,{id:"takeinput",children:"takeInput"}),(0,r.jsx)(t.p,{children:"Function that delays the execution of the game for a period to obtain an input from the player. If the input is the expected one, the delay is canceled."})]}),(0,r.jsx)(t.h4,{id:"arguments-4",children:"Arguments"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Label"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Expected Value"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg1"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Delay factor"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Arg2"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Expected input"})]})]})]}),(0,r.jsx)(t.h4,{id:"returns-4",children:"Returns"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Label"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Expected Value"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Ret"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"0, if no key was pressed, otherwise, the ASCII value of the pressed key"})]})})]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-asmatmel",children:"takeInput:\n    call saveRegisters\n    loadn r3, #1000 ; Base delay, implies a microsecond in 1 MHz\n    loadn r4, #255  ; Standard value returned by inchar when no key press is detected\n    store Ret, r0\n\n    delay_A:\n        mov r5, r1\n        delay_B:\n            inchar r6\n            cmp r4, r6\n            jeq delayContinue\n            store Ret, r6\n            cmp r2, r6\n            jeq delayEnd\n    delayContinue:\n        dec r5\n        jnz delay_B\n        dec r3\n        jnz delay_A\n    delayEnd:\n    call restoreRegisters\n    rts\n"})}),(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["The takeInput function can be used to give the game a given interval between actions. To do this, simply pass the expected value to interrupt the interval as one that cannot be matched: ",(0,r.jsx)(t.code,{children:"0"}),"."]})})]})]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},136:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(6540),s=n(4848);function i(e){let{children:t}=e;return(0,r.useEffect)((()=>{const e=location.hash&&document.querySelector(location.hash)||null,t=e?.parentElement,n=t?.parentElement;if(null!=e&&(document.title=`${e.textContent} | FAQ | Onion`,n&&n instanceof HTMLDetailsElement&&!n.open)){const e=n.getBoundingClientRect().top+window.scrollY-75;t.click(),window.scrollTo({top:e,behavior:"smooth"})}})),(0,s.jsx)(s.Fragment,{children:t})}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var r=n(6540);const s={},i=r.createContext(s);function l(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);